<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

     <head>

          <meta name="viewport" content="width=device-width; height=device-height; user-scalable=no" />

          <meta http-equiv="Content-type" content="text/html; charset=utf-8">

          <title>Beer Me</title>

          <link rel="stylesheet" href="/master.css" type="text/css" media="screen" />

            <script type="text/javascript" src="cordova-2.5.0.js"></script>

          <script type="text/javascript">

               function loader() {

                    var state = document.readyState;

                    if (state == 'loaded' || state == 'complete') {

                         run();

                    } else {

                         if (navigator.userAgent.indexOf('Browzr') > -1) {

                              setTimeout(run, 250);

                         } else {

                              document.addEventListener('deviceready',run,false);

                         }

                    }

               }

               function run() {
                    var win = function(position) {                          // Grab coordinates object from the Position object passed into success callback.
                         var coords = position.coords;
                         // Call for static google maps data - make sure you use your own Google Maps API key!
                         var url = "http://maps.google.com/maps/api/staticmap?center=" + coords.latitude + "," + coords.longitude + "&zoom=16&size=320x480&maptype=roadmap&key=AIzaSyBlAWk6_OlZrwr8fHEJxLK83mFsvnf93Y4&sensor=true";
                         document.getElementById('map').setAttribute('src',url);
                         
                         var element = document.getElementById('texto');
                         element.innerHTML = 'Latitude: '           + position.coords.latitude              + '<br />' +
                            'Longitude: '          + position.coords.longitude             + '<br />' +
                            'Altitude: '           + position.coords.altitude              + '<br />' +
                            'Accuracy: '           + position.coords.accuracy              + '<br />' +
                            'Altitude Accuracy: '  + position.coords.altitudeAccuracy      + '<br />' +
                            'Heading: '            + position.coords.heading               + '<br />' +
                            'Speed: '              + position.coords.speed                 + '<br />' +
                            'Timestamp: '          +                                   position.timestamp          + '<br />';
                         
                                    };
                    var fail = function(e) {
                         alert('Can\'t retrieve position.\nError: ' + e);
                    };
                    navigator.geolocation.getCurrentPosition(win, fail);
               } 
          </script>

     </head>

     <body onload="loader();">
       <a id="texto"></a>
       <img id="map" />
       <style>
         #map {
            width: 100%; height: 100%; z-index:1;
            border-style:solid;
            border-width:2px;
         }

       </style>
     </body>

</html>
